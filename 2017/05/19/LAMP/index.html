
<!DOCTYPE html>
<html lang="zh-CN" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta name="theme-color" content="#6C9D5E"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LAMPç¯å¢ƒæ­å»º - S1eke&#39;s Blog</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="S1eke,"> 
    <meta name="description" content="
LAMPæ˜¯æŒ‡ä¸€ç»„é€šå¸¸ä¸€èµ·ä½¿ç”¨æ¥è¿è¡ŒåŠ¨æ€ç½‘ç«™æˆ–è€…æœåŠ¡å™¨çš„è‡ªç”±è½¯ä»¶åç§°é¦–å­—æ¯ç¼©å†™ï¼š
&amp;emsp;&amp;emsp;Linuxï¼Œæ“ä½œç³»ç»Ÿ
&amp;emsp;&amp;emsp;Apacheï¼Œç½‘é¡µæœåŠ¡å™¨
&amp;emsp;&amp;ems,"> 
    <meta name="author" content="Sean Fang"> 
    <link rel="alternative" href="atom.xml" title="S1eke&#39;s Blog" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    
    
<link rel="stylesheet" href="/css/diaspora.css">

<meta name="generator" content="Hexo 5.1.1"></head>


<body class="loading">

    <div class="app-refresh" id="app-refresh">
        <div class="app-refresh-wrap" onclick="location.reload()">
            <label>å·²æ›´æ–°æœ€æ–°ç‰ˆæœ¬</label>
            <span>ç‚¹å‡»åˆ·æ–°</span>
        </div>
    </div>
    
    <script>
        if ('serviceWorker' in navigator) {
            if (navigator.serviceWorker.controller) {
                navigator.serviceWorker.addEventListener('controllerchange', function() {
                    showNotification();
                });
            }
    
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js');
            });
        }
    
        function showNotification() {
            document.querySelector('meta[name=theme-color]').content = '#000';
            document.getElementById('app-refresh').className += ' app-refresh-show';
        }
    </script>
    
    <span id="config-title" style="display:none">S1eke&#39;s Blog</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="iconfont icon-home image-icon" href="javascript:;" data-url="https://blog.jugg.xyz"></a>
    <div title="æ’­æ”¾/æš‚åœ" class="iconfont icon-play"></div>
    <h3 class="subtitle">LAMPç¯å¢ƒæ­å»º</h3>
    <div class="social">
        <div>
            <div class="share">
                <a title="è·å–äºŒç»´ç " class="iconfont icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article">
    <div class='main'>
        <h1 class="title">LAMPç¯å¢ƒæ­å»º</h1>
        <div class="stuff">
            <span>äº”æœˆ 19, 2017</span>
            
  <ul class="post-tags-list" itemprop="keywords"><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/Apache/" rel="tag">Apache</a></li><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/Archlinux/" rel="tag">Archlinux</a></li><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/Mariadb/" rel="tag">Mariadb</a></li><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/PHP/" rel="tag">PHP</a></li></ul>


        </div>
        <div class="content markdown">
            <blockquote>
<p>LAMPæ˜¯æŒ‡ä¸€ç»„é€šå¸¸ä¸€èµ·ä½¿ç”¨æ¥è¿è¡ŒåŠ¨æ€ç½‘ç«™æˆ–è€…æœåŠ¡å™¨çš„è‡ªç”±è½¯ä»¶åç§°é¦–å­—æ¯ç¼©å†™ï¼š</p>
<p>&emsp;&emsp;Linuxï¼Œæ“ä½œç³»ç»Ÿ</p>
<p>&emsp;&emsp;Apacheï¼Œç½‘é¡µæœåŠ¡å™¨</p>
<p>&emsp;&emsp;MariaDBæˆ–MySQLï¼Œæ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆæˆ–è€…æ•°æ®åº“æœåŠ¡å™¨ï¼‰</p>
<p>&emsp;&emsp;PHPã€Perlæˆ–Pythonï¼Œè„šæœ¬è¯­è¨€</p>
</blockquote>
<p>â€”â€”æ‘˜è‡ªç»´åŸºç™¾ç§‘</p>
<h3 id="è½¯ä»¶å®‰è£…"><a href="#è½¯ä»¶å®‰è£…" class="headerlink" title="è½¯ä»¶å®‰è£…"></a>è½¯ä»¶å®‰è£…</h3><p>è¿™é‡Œæˆ‘ä»¬é€‰æ‹©çš„æ˜¯ Linux+Apache+MariaDB+PHPã€‚</p>
<p>Arch Linuxå®‰è£…LAMPéå¸¸ç®€å•ï¼Œæ‰€æœ‰çš„åŒ…å®˜æ–¹æºé‡Œéƒ½æœ‰ï¼Œæ‰€ä»¥ï¼š</p>
<pre><code># pacman -S apache php php-apache mariadb libmariadbclient mariadb-clients </code></pre>
<p>ä¸€æ¡å‘½ä»¤å°±å°†æ‰€æœ‰éœ€è¦çš„è½¯ä»¶ç›´æ¥å®‰è£…å¥½ã€‚</p>
<h3 id="å¯åŠ¨PHP"><a href="#å¯åŠ¨PHP" class="headerlink" title="å¯åŠ¨PHP"></a>å¯åŠ¨PHP</h3><h4 id="é…ç½®PHP"><a href="#é…ç½®PHP" class="headerlink" title="é…ç½®PHP"></a>é…ç½®PHP</h4><p>&emsp;&emsp;é¦–å…ˆï¼Œæˆ‘ä»¬æ¥é…ç½®PHPã€‚</p>
<p>&emsp;&emsp;php-apache ä¸­åŒ…å«çš„ libphp7.so ä¸æ”¯æŒ mod_mpm_eventï¼Œä»…æ”¯æŒ mod_mpm_preforkã€‚æ‰€ä»¥éœ€è¦åœ¨ /etc/httpd/conf/httpd.conf ä¸­æ³¨é‡Šæ‰:</p>
<pre><code>#LoadModule mpm_event_module modules/mod_mpm_event.so</code></pre>
<p>&emsp;&emsp;å¹¶å–æ¶ˆä¸‹é¢è¡Œçš„æ³¨é‡Š:</p>
<pre><code>LoadModule mpm_prefork_module modules/mod_mpm_prefork.so</code></pre>
<p>&emsp;&emsp;æ­¤å¤–ï¼Œå°†è¿™ä¸€è¡Œæ”¾åœ¨LoadModuleåˆ—è¡¨ä¸­ LoadModule dir_module modules/mod_dir.so ä¹‹åçš„ä»»æ„åœ°æ–¹ï¼š</p>
<pre><code>LoadModule php7_module modules/libphp7.so</code></pre>
<p>&emsp;&emsp;å°†è¿™ä¸€è¡Œæ”¾åˆ°Includeåˆ—è¡¨çš„æœ«å°¾ï¼š</p>
<pre><code>Include conf/extra/php7_module.conf</code></pre>
<h4 id="æµ‹è¯•PHP"><a href="#æµ‹è¯•PHP" class="headerlink" title="æµ‹è¯•PHP"></a>æµ‹è¯•PHP</h4><p>&emsp;&emsp;è¦æµ‹è¯•PHPï¼Œåœ¨ apache æ–‡æ¡£æ ¹ç›®å½•ä¸­åˆ›å»ºtest.phpæ–‡ä»¶ï¼Œåœ¨å…¶ä¸­å†™å…¥ï¼š</p>
<pre><code>&lt;?php phpinfo(); ?&gt;</code></pre>
<p>&emsp;&emsp;ç„¶åè®¿é—®å¯åŠ¨apacheæœåŠ¡ï¼Œè®¿é—® <a target="_blank" rel="noopener" href="http://localhost/test.php%E3%80%82%E8%8B%A5%E6%88%90%E5%8A%9F%E5%90%AF%E5%8A%A8%E7%9A%84%E8%AF%9D%EF%BC%8C%E5%BA%94%E5%A6%82%E4%B8%8B%E5%9B%BE%E6%89%80%E7%A4%BA%EF%BC%9A">http://localhost/test.phpã€‚è‹¥æˆåŠŸå¯åŠ¨çš„è¯ï¼Œåº”å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</a></p>
<p><img src="https://static.poo1.club/img/591edcc26ad0e.png" alt="PHP"></p>
<h3 id="å¯åŠ¨MariaDB"><a href="#å¯åŠ¨MariaDB" class="headerlink" title="å¯åŠ¨MariaDB"></a>å¯åŠ¨MariaDB</h3><h4 id="åˆå§‹åŒ–MariaDB"><a href="#åˆå§‹åŒ–MariaDB" class="headerlink" title="åˆå§‹åŒ–MariaDB"></a>åˆå§‹åŒ–MariaDB</h4><p>&emsp;&emsp;é¦–å…ˆï¼Œæˆ‘ä»¬å¿…é¡»å¿…é¡»è¿è¡Œä¸‹é¢è¿™æ¡å‘½ä»¤ï¼š</p>
<pre><code># mysql_install_db --user=mysql --basedir=/usr --datadir=/var/lib/mysql</code></pre>
<p>&emsp;&emsp;å¯åŠ¨ mysqld å®ˆæŠ¤è¿›ç¨‹ï¼Œè¿è¡Œå®‰è£…è„šæœ¬ï¼Œç„¶åé‡æ–°å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹ï¼š</p>
<pre><code># systemctl start mysqld
# mysql_secure_installation
# systemctl restart mysqld</code></pre>
<p>&emsp;&emsp;å®‰è£…è„šæœ¬çš„å†…å®¹æ˜¯é…ç½®æ•°æ®åº“rootå¯†ç å’Œåˆ é™¤åŒ¿åæƒé™è¿˜æœ‰è¿œç¨‹æƒé™ä¹‹ç±»çš„ï¼Œå¤§å®¶å„å‡­æ‰€éœ€å»é€‰æ‹©å°±è¡Œã€‚</p>
<h4 id="é…ç½®MariaDB"><a href="#é…ç½®MariaDB" class="headerlink" title="é…ç½®MariaDB"></a>é…ç½®MariaDB</h4><p>&emsp;&emsp;è¿è¡Œå®Œè„šæœ¬åä¾¿å¯ä»¥ä½¿ç”¨è®¾ç½®å¥½çš„rootè´¦å·ç™»é™†MariaDBï¼š</p>
<pre><code># mysql -p -u root</code></pre>
<p>&emsp;&emsp;ä¸‹é¢ç›´æ¥æ”¹ä¸‹/etc/php/php.iniï¼Œå–æ¶ˆè¿™ä¸¤è¡Œçš„æ³¨é‡Šï¼š</p>
<pre><code>extension=pdo_mysql.so
extension=mysqli.so</code></pre>
<p>&emsp;&emsp;æœ¬æ¬¡æ­å»ºä¾¿å·²ç»å®Œæˆäº†,è¿™æ—¶å†é‡å¯ä¸‹httpd.service æœåŠ¡ä¾¿å¯ã€‚</p>
<p>&emsp;&emsp;ä¸‹é¢å†é¢å¤–ä»‹ç»ä¸‹MariaDBçš„å…¶ä»–é…ç½®ã€‚</p>
<h4 id="åˆ›å»ºç”¨æˆ·"><a href="#åˆ›å»ºç”¨æˆ·" class="headerlink" title="åˆ›å»ºç”¨æˆ·"></a>åˆ›å»ºç”¨æˆ·</h4><p>&emsp;&emsp;ä»¥ä¸‹æ˜¯åˆ›å»ºä¸€ä¸ªå¯†ç ä¸ºâ€™some_passâ€™çš„â€™montyâ€™ç”¨æˆ·çš„ç¤ºä¾‹ï¼Œå¹¶èµ‹äºˆ mydb å®Œå…¨æ“ä½œæƒé™ï¼š<br><img src="https://static.poo1.club/img/591ee3307f03c.png" alt="Mydb"></p>
<h4 id="ç¦ç”¨è¿œç¨‹è®¿é—®"><a href="#ç¦ç”¨è¿œç¨‹è®¿é—®" class="headerlink" title="ç¦ç”¨è¿œç¨‹è®¿é—®"></a>ç¦ç”¨è¿œç¨‹è®¿é—®</h4><p>&emsp;&emsp;MariaDB æœåŠ¡å™¨é»˜è®¤å¯ä»ç½‘ç»œè®¿é—®ã€‚å¦‚æœåªæœ‰æœ¬æœºéœ€è¦ MariaDBï¼Œå¯ä»¥é€šè¿‡ä¸ç›‘å¬ TCP ç«¯å£ 3306 æ¥å¢å¼ºå®‰å…¨æ€§ã€‚è¦æ‹’ç»è¿œç¨‹è¿æ¥ï¼Œå–æ¶ˆæ³¨é‡Š /etc/mysql/my.cnf ä¸­ä»¥ä¸‹è¿™è¡Œï¼š</p>
<pre><code>skip-networking</code></pre>
<h4 id="ä¸ºæ•°æ®åº“ä½¿ç”¨-UTF-8-ç¼–ç "><a href="#ä¸ºæ•°æ®åº“ä½¿ç”¨-UTF-8-ç¼–ç " class="headerlink" title="ä¸ºæ•°æ®åº“ä½¿ç”¨ UTF-8 ç¼–ç "></a>ä¸ºæ•°æ®åº“ä½¿ç”¨ UTF-8 ç¼–ç </h4><p>&emsp;&emsp;åœ¨ /etc/mysql/my.cnf çš„ mysqld ä¸‹, æ·»åŠ :</p>
<pre><code>[mysqld]
init_connect                = &#39;SET collation_connection = utf8_general_ci,NAMES utf8&#39;
collation_server            = utf8_general_ci
character_set_client        = utf8
character_set_server        = utf8</code></pre>
<p><br><br></p>
<h3 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h3><p>&emsp;&emsp;é¢ğŸ˜‚ï¼Œè¿˜æ˜¯ä¸æ»¥ç«½å……æ•°äº†ï¼ŒArch çš„Wikiå®åœ¨æ˜¯å¤ªå…¨äº†ï¼Œä¸€å¼€å§‹æ˜¯æ‰“ç®—å‚è€ƒWikiå†™è¿™ç¯‡åšå®¢ï¼Œåˆ°åé¢å‡ ä¹æ˜¯ç›´æ¥copyäº†ã€‚</p>
<p>&emsp;&emsp;è¿™ç¯‡å°±æ­¤ç»“æŸå§ï¼Œå›å¤´åº”è¯¥è¿˜ä¼šè¡¥ä¸ŠLNMPæ­å»ºï¼Œå¦å¤–å†æ¨èä¸‹å®˜æ–¹Wikiï¼Œæ¯”æˆ‘è¿™ä¸ªè¦å…¨å¹¶ä¸”ç›´è§‚å¤šäº†ï¼ŒWikiä¸æ„§æ˜¯Archerçš„ä¸€å¤§è´¢å¯Œã€‚</p>
<p><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Apache_HTTP_Server">Apache</a></p>
<p><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/PHP">PHP</a></p>
<p><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/MySQL">MySQL</a></p>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        
                            <li title='0' data-url='https://music.163.com/song/media/outer/url?id=35288859.mp3'></li>
                        
                    
                </ul>
            
        </div>
        
    <div id='gitalk-container' class="comment link"
		data-enable='false'
        data-ae='false'
        data-ci=''
        data-cs=''
        data-r=''
        data-o=''
        data-a=''
        data-d='false'
    >æŸ¥çœ‹è¯„è®º</div>


    </div>
    
</div>


    </div>
</div>
</body>


<script src="//libs.baidu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/typed.js"></script>
<script src="/js/diaspora.js"></script>


<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">


<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>





<!-- Google Analytics -->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-117507587-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-117507587-1');
</script>
<!-- End Google Analytics -->


</html>
